<!doctype html>
<html>
  <head>
    <title>Git</title>
    <link rel="stylesheet" href="../../common.css">
  </head>
  <body>
    <h1>Git</h1>
	<h2>SVN vs Git</h2>
	<p><b>SVN</b>: Centralized version control system (Apache Subversion)<br>
	<b>Git</b>: &nbsp;&nbsp; Distributed version control system</p>
	<center><img src="images/git.png" width="50%" height="50%"/></center>
	
	<h2>Git commands</h2>
    <ul>
      <li><b>git fetch</b>: Download new data from the remote repository into your local repository (Git updates .git directory)</li>
	  <li><b>git pull</b>: &nbsp; Download new data from the remote repository into your working copy (git fetch + git merge)</li>		
      <li><b>git stash + git pull + git stash pop</b>: Temporarily save your work, update your local branch, restore your work</li>
	  <li><b>git pull -X ours</b>: Use your local file and ignore the remote version</li>		
    </ul>
		
	<h2>Push</h2>

<b>Push an existing Git repository</b>
	<div class="code"><code><pre>cd feature
git clone --branch feature https://github.com/tylernt7/sencha.git .
git remote rename origin TylerRepo
git remote add origin https://github.com/attila/core.git
git push --set-upstream origin --all
git push --set-upstream origin --tags
</pre></code></div>

<br>
<b>Push an existing Git repository (alternative)</b>
	<div class="code"><code><pre>cd main
git clone https://github.com/attila/core.git .
git remote add TylerRepo https://github.com/tylernt7/sencha.git
rem git fetch TylerRepo feature
rem git merge TylerRepo/feature
git pull TylerRepo feature
git push
</pre></code></div>

	<h2>Merge</h2>
	
<b>Merge branch 'feature' into branch 'main'</b>
	<div class="code"><code><pre>git switch main
rem git checkout main

git pull
rem git pull origin main
	
git pull origin feature
rem git fetch origin feature
rem git merge origin/feature

git push
rem git push origin main
</pre></code></div>

<br>
<b>Regular merge</b>
	<div class="code"><code><pre>git switch feature <i># switch to the feature branch</i>
git <i>merge</i> main <i># merge the main branch into the feature branch</i>
git switch main <i># switch back to the main branch</i>
git merge --no-ff feature -m "Your merge message" <i># merge the feature branch into the main branch with a merge commit</i>
</pre></code></div>
<b><i>Notes:</i></b><br>
If the local branches are already up-to-date with the remote repository, you can switch between them and merge them without needing to fetch the remote branches.<br>
<i>git merge --no-ff feature -m "Your merge message"</i>: ensures a new merge commit is always created<br>
<i>git merge feature</i>: does not create a new commit if the feature branch is ahead of the merged-into branch<br>
<br>
<b>Rebase merge</b><br>
A rebase merge is when you rebase one branch onto another and then merge them with a fast-forward merge.<br>
	<div class="code"><code><pre>git switch feature <i># switch to the feature branch</i>
git <i>rebase</i> main <i># rebase the feature branch onto the main branch</i>
git switch main <i># switch back to the main branch</i>
git merge feature <i># fast-forward merge the feature branch into the main branch</i>
</pre></code></div>			
<br>
<b>Merging vs. Rebasing</b><br>
<b>Rebase</b> reapplies commits on <i>top</i> of another base branch, whereas <b>merge</b> joins two or more development histories together. While merge preserves history as it happened, rebase rewrites the commit history. If you are cherry-picking multiple commits, consider using <i>git rebase</i> for a cleaner history, especially when working with feature branches.
<center><img src="images/git_rebase.png" width="75%" height="75%"/></center>
		
	<h2>Default branches</h2>
    <ul>
      <li><b>SVN</b>: trunk</li>
	  <li><b>Git</b>: master (git init)</li>
      <li><b>GitHub</b>: main</li>
	  <li><b>GitLab &lt;14.0</b>: master</li>
	  <li><b>GitLab >=14.0</b>: main</li>	  
	  <li><b>Azure DevOps</b>: master</li>		
    </ul>
	
	<h2>GUI clients</h2>
    <ul>
      <li><b>SVN</b>: TortoiseSVN</li>
	  <li><b>Git</b>: TortoiseGit, GitHub Desktop, Git GUI</li>		
    </ul>
	

  </body>
</html>
