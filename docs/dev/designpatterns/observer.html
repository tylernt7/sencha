<!doctype html>
<html>
  <head>
    <title>Observer</title>
	<link rel="stylesheet" href="../common.css">
  </head>
  <body>
    <h1>Observer</h1>
	
    <h2>Intent</h2>	
 	<ul>
	  <li>Define a <b>one-to-many</b> dependency between objects so that when one object changes state, all its dependents are notified and updated automatically.</li>
	  <li>Model-View-Controller: Model = Subject, View = Observer, Controller is whatever object changes the state of the subject</li>	  
	  <li>Examples: magazine subscription, auction</li>
	</ul> 
	<center><p><img src="images\observer_barchart.gif" width="50%" height="50%"/></p></center>
	<p>The spreadsheet and bar chart depend on the data object. When the data changes, the spreadsheet and bar chart reflect the changes immediately.</p>

    <h2>Structure</h2>	
	<h3>Structural Code</h3>
	<center><p><img src="images\observer_structural.png" width="65%" height="65%"/></p></center>
	<h3>Java Util (Java 1)</h3>
	<p>The <i>Observable</i> class and the <i>Observer</i> interface have been deprecated since Java 9. The event model supported by <i>Observer</i> and <i>Observable</i> is quite limited, the order of notifications delivered by <i>Observable</i> is unspecified, and state changes are not in one-for-one correspondence with notifications.</p>
	<p>For a richer event model, consider using the <i>java.desktop/java.beans</i> package.</p>
	<p>For reliable and ordered messaging among threads, consider using one of the concurrent data structures in the <i>java.util.concurrent</i> package.</p>
	<p>For reactive streams style programming, see the <i>java.util.concurrent.Flow</i> API.</p>
	<center><p><img src="images\observer_java_util.png" width="40%" height="40%"/></p></center>
	
	<h3>Java Beans (Java 1.1)</h3>
	<p>The <i>PropertyChangeSupport</i> class can be used by beans that support bound properties. It manages a list of listeners and dispatches <i>PropertyChangeEvent</i>s to them. You can use an instance of this class as a member field of your bean and delegate these types of work to it. The <i>PropertyChangeListener</i> can be registered for all properties or for a property specified by name.</p>
	<p>A <i>PropertyChangeSupport</i> instance is thread-safe.</p>
	<p>This class is serializable. When it is serialized it will save (and restore) any listeners that are themselves serializable. Any non-serializable listeners will be skipped during serialization.</p>
	<center><p><img src="images\observer_java_beans.png" width="80%" height="80%"/></p></center>

	<h3>JavaFX 2.0 (Java 8)</h3>
	<center><p><img src="images\observer_javafx.png" width="40%" height="40%"/></p></center>	
  </body>
</html>


